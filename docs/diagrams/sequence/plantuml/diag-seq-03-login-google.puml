@startuml

title FokusLead - Sequencia Login com Google

actor Usuario
participant "Frontend" as Front
participant "Auth Service" as Auth
participant "Google OAuth" as Google
database "Users DB" as DB

Usuario -> Front : clicar em "Entrar com Google"
Front -> Google : redireciona para consentimento
Google --> Front : retorna code
Front -> Auth : envia code
Auth -> Google : troca code por tokens
Google --> Auth : id_token + access_token
Auth -> DB : busca usuario por email
alt usuario nao existe
  Auth -> DB : cria usuario
else usuario existe
  Auth -> DB : atualiza ultimo login
end
Auth --> Front : retorna JWT + perfil
Front --> Usuario : login concluido

@enduml
